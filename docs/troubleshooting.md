# 🔧 釣果記録アプリ トラブルシューティングガイド

**最終更新**: 2024-09-26
**対象バージョン**: v2.1.0

## 🎯 このガイドについて

釣果記録アプリで発生する可能性のある問題と解決方法を網羅的にまとめています。特に**潮汐グラフ機能**の新機能に関する問題解決に重点を置いています。

## 🌊 潮汐グラフ関連の問題

### 問題1: 潮汐グラフが表示されない

#### 症状
- 記録詳細画面で「📊 潮汐グラフを表示」ボタンが見当たらない
- ボタンはあるが「GPS座標が未記録」のメッセージが表示される

#### 原因と解決方法

**🔍 原因A: GPS座標が記録されていない**
```
確認方法:
1. 記録詳細画面で位置情報セクションを確認
2. 「GPS座標: [未設定]」となっている

解決方法:
1. 記録編集で「GPS位置情報を使用する」をチェック
2. 「📍 現在位置を取得」または「✏️ 手動入力」で座標を設定
3. 記録を保存し直す
```

**🔍 原因B: 座標が対応エリア外**
```
確認方法:
GPS座標が日本近海の範囲外（緯度30-46度、経度129-146度）

解決方法:
1. 座標値を再確認（例: 東京湾 35.6762, 139.6503）
2. 手動入力で正しい座標を設定
3. Googleマップリンクで位置を確認
```

**🔍 原因C: ブラウザの互換性問題**
```
確認方法:
F12 → Console で以下のようなエラーを確認
"SVG not supported" または "Canvas not available"

解決方法:
1. モダンブラウザに更新（Chrome 90+, Firefox 88+, Safari 14+）
2. JavaScriptが有効化されているか確認
3. プライベートモードを無効にして再試行
```

### 問題2: 潮汐グラフが正しく表示されない

#### 症状
- グラフが歪んでいる、または一部切れている
- スケール（縦軸）が適切に表示されない
- 時間軸（横軸）がずれている

#### 原因と解決方法

**🔍 原因A: 画面サイズ対応問題**
```
確認方法:
画面サイズを変更した際にグラフが追従しない

解決方法:
1. ページを再読み込み（F5）
2. ブラウザを最大化してから再表示
3. 開発者ツール（F12）を閉じてから再試行
```

**🔍 原因B: データ読み込み問題**
```
確認方法:
F12 → Network タブで通信エラーを確認

解決方法:
1. インターネット接続を確認（潮汐データはオフライン対応）
2. ブラウザキャッシュをクリア（Ctrl+Shift+Del）
3. ページを強制更新（Ctrl+F5）
```

**🔍 原因C: 潮汐計算エラー**
```
確認方法:
F12 → Console で以下のエラーを確認
"Tide calculation failed" または "Invalid coordinates"

解決方法:
1. GPS座標値の有効性を確認
2. 日付が正しい範囲内か確認（1900年-2100年）
3. 記録を削除・再作成
```

### 問題3: 潮汐グラフの性能問題

#### 症状
- グラフの表示が遅い（3秒以上）
- ブラウザが固まる、または応答しない
- メモリ使用量が異常に高い

#### 原因と解決方法

**🔍 原因A: 大量データ処理**
```
確認方法:
多数の釣果記録（50件以上）がある場合

解決方法:
1. 古い記録を削除または別保存
2. ブラウザを再起動
3. 他のタブを閉じてメモリを解放
```

**🔍 原因B: キャッシュシステム問題**
```
確認方法:
F12 → Console で "Cache miss" が頻発

解決方法:
1. アプリケーションキャッシュをクリア
2. ブラウザを再起動（キャッシュシステムリセット）
3. 問題が続く場合は開発者に報告
```

## 📸 写真・データ関連の問題

### 問題4: 写真が表示されない

#### 症状
- 「写真で確認」タブで写真が空白
- 「画像を読み込めません」エラー

#### 原因と解決方法

**🔍 原因A: ストレージ容量不足**
```
確認方法:
F12 → Application → Storage で使用量を確認

解決方法:
1. 不要な写真付き記録を削除
2. ブラウザのサイトデータをクリア
3. デバイスの空き容量を確保
```

**🔍 原因B: 写真ファイル破損**
```
確認方法:
特定の記録のみ写真が表示されない

解決方法:
1. 該当記録を削除
2. 元の写真ファイルで記録を再作成
3. 別の画像形式（JPG/PNG）を試行
```

### 問題5: 写真メタデータ自動入力が動かない

#### 症状
- GPS付き写真をアップロードしても自動入力されない
- 「自動入力する」ダイアログが表示されない

#### 原因と解決方法

**🔍 原因A: EXIF情報の不存在**
```
確認方法:
1. 写真のプロパティでGPS情報を確認
2. 他のEXIF表示アプリで検証

解決方法:
1. カメラアプリで位置情報をONにして再撮影
2. 画像編集を行っていない元写真を使用
3. EXIF情報が保持されている写真を使用
```

**🔍 原因B: ブラウザのセキュリティ制限**
```
確認方法:
F12 → Console で "File API not supported" エラー

解決方法:
1. HTTPS環境で利用（HTTPSが必要）
2. ファイルアクセス権限を許可
3. ブラウザの設定でサイトの権限を確認
```

## 🔧 一般的な技術問題

### 問題6: アプリが動かない・反応しない

#### 症状
- ページが表示されない
- ボタンクリックが効かない
- エラーメッセージが表示される

#### 解決手順（優先度順）

**🔧 Step 1: 基本的な確認**
```
1. ブラウザの更新（最新版か確認）
2. JavaScript有効化の確認
3. 広告ブロッカーの無効化
4. プライベートモード無効化
```

**🔧 Step 2: キャッシュとデータのクリア**
```
1. 強制更新: Ctrl+F5 (Windows) / Cmd+Shift+R (Mac)
2. キャッシュクリア: Ctrl+Shift+Del
3. サイトデータクリア: F12 → Application → Clear Storage
```

**🔧 Step 3: ブラウザ環境の確認**
```
対応ブラウザ:
✅ Chrome 90+ (推奨)
✅ Firefox 88+
✅ Safari 14+
✅ Edge 90+

❌ Internet Explorer（非対応）
❌ 古いモバイルブラウザ
```

**🔧 Step 4: デバイス特有の問題**
```
iOS:
- Safari設定 → プライバシーとセキュリティ → サイト越えトラッキングを防ぐ → OFF

Android:
- Chrome設定 → サイトの設定 → JavaScript → 許可
- Chrome設定 → サイトの設定 → 位置情報 → 許可

Windows:
- 位置情報サービスの有効化（設定 → プライバシー → 位置情報）
```

### 問題7: データが消失した

#### 症状
- 保存した記録が表示されない
- 「記録がありません」のメッセージ

#### 復旧手順

**🔧 原因確認**
```
1. 同じブラウザか確認（Chrome → Firefox等の変更）
2. プライベートモードの使用履歴確認
3. ブラウザアップデート後の変化確認
```

**🔧 データ復旧試行**
```
1. F12 → Application → IndexedDB → fishing_records_db で確認
2. 別プロファイル・別ブラウザでの確認
3. 最近のブラウザ履歴からアクセス
```

**🔧 予防策**
```
今後のために:
1. 定期的なスクリーンショット保存
2. 重要な記録は手動メモとしても保管
3. 複数ブラウザでの動作確認
```

## 📱 デバイス別の問題

### iPhone/iPad
```
問題: タッチ操作が効かない
解決: Safari設定 → 詳細 → JavaScript → ON

問題: 位置情報が取得できない
解決: 設定 → プライバシーとセキュリティ → 位置情報サービス → Safari → このAppの使用中のみ許可
```

### Android
```
問題: 写真アップロードができない
解決: Chrome設定 → サイトの設定 → カメラ → fishing-record-app.com → 許可

問題: GPS情報が取得されない
解決: 設定 → 位置情報 → 位置情報の使用 → ON
```

### PC（Windows/Mac）
```
問題: 画面が正しく表示されない
解決: ブラウザのズーム設定を100%に調整

問題: キーボード操作ができない
解決: Tabキーでの項目移動、Enterキーでの決定操作を確認
```

## 🐛 バグ報告・フィードバック

### エラー情報の収集方法

**🔍 必要な情報**
```
1. 発生日時
2. 使用ブラウザ・バージョン
3. OS（Windows 10, iOS 16等）
4. 操作手順（再現方法）
5. エラーメッセージ（あれば）
```

**🔍 技術情報の取得**
```
F12 → Console タブ:
- エラーログをスクリーンショット
- 赤文字のエラーメッセージを確認

F12 → Network タブ:
- 通信エラーの有無を確認
- 失敗したリクエストのURL
```

### 報告方法
1. **GitHub Issues**: https://github.com/[repo]/issues
2. **詳細情報**: 上記の収集情報を含めて報告
3. **緊急度**: 機能が全く使えない場合は緊急として記載

## ❓ よくある質問の回答

### Q: 潮汐情報の精度はどの程度ですか？
A: 天体計算と地域補正による高精度予測を使用していますが、実際の潮汐との誤差（±10-20cm程度）が生じる場合があります。釣行の参考程度にご利用ください。

### Q: オフラインでどこまで使えますか？
A: 基本機能（記録作成・表示・潮汐グラフ）は完全オフライン対応です。天気情報の取得のみオンライン接続が必要です。

### Q: データのバックアップは可能ですか？
A: 現在はブラウザ内でのデータ保存のみです。将来的にエクスポート機能を実装予定です。

### Q: 他の潮汐アプリとの違いは？
A: 完全無料・オフライン対応で、釣果記録との統合分析が最大の特徴です。地域・季節変動係数による高精度補正も特色の一つです。

---

**🔧 問題が解決しない場合**

このガイドで解決しない問題がございましたら、遠慮なくフィードバックをお送りください。継続的にガイドを更新し、より使いやすいアプリを目指します。